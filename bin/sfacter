#!/usr/bin/env ruby 
#
# = Synopsis
#
# Collect and display facts about the system using Facter.
#
# = Usage
#
#   sfacter [MyFacts] [MyOtherFacts] [...]
#
# = Description
#
# Collect and display facts about the current system using Facter.
#
# If no facts are specifically asked for, then all facts in FACTERLIB will be returned.
# 
#
# = Example
#
#   sfacter kernel
#
# = Author
#
# Bradley Taylor
#
# = Copyright
#
# Copyright (c) 2009 Rails Machine, LLC
# Licensed under the Lesser GNU Public License

require 'rubygems'
require 'json'
require 'shadow_facter'
require 'shadow_facter/facts'

# require Facter lib Facts
if ENV.key?("FACTERLIB")
  paths = ENV['FACTERLIB'].split ":"
  paths.each do |p|
    Dir.chdir p
    Dir.glob('*.rb') { |f| require f }
  end
end
 
ARGV.each do |name|
  j = eval "#{name}.to_json"
  puts j
end



